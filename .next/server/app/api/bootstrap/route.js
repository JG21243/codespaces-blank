"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/bootstrap/route";
exports.ids = ["app/api/bootstrap/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:fs/promises");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbootstrap%2Froute&page=%2Fapi%2Fbootstrap%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbootstrap%2Froute.ts&appDir=%2Fworkspaces%2Fcodespaces-blank%2Flegal-semantic-search%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2Fcodespaces-blank%2Flegal-semantic-search&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbootstrap%2Froute&page=%2Fapi%2Fbootstrap%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbootstrap%2Froute.ts&appDir=%2Fworkspaces%2Fcodespaces-blank%2Flegal-semantic-search%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2Fcodespaces-blank%2Flegal-semantic-search&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _workspaces_codespaces_blank_legal_semantic_search_app_api_bootstrap_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/bootstrap/route.ts */ \"(rsc)/./app/api/bootstrap/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/bootstrap/route\",\n        pathname: \"/api/bootstrap\",\n        filename: \"route\",\n        bundlePath: \"app/api/bootstrap/route\"\n    },\n    resolvedPagePath: \"/workspaces/codespaces-blank/legal-semantic-search/app/api/bootstrap/route.ts\",\n    nextConfigOutput,\n    userland: _workspaces_codespaces_blank_legal_semantic_search_app_api_bootstrap_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/bootstrap/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZib290c3RyYXAlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmJvb3RzdHJhcCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmJvb3RzdHJhcCUyRnJvdXRlLnRzJmFwcERpcj0lMkZ3b3Jrc3BhY2VzJTJGY29kZXNwYWNlcy1ibGFuayUyRmxlZ2FsLXNlbWFudGljLXNlYXJjaCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGd29ya3NwYWNlcyUyRmNvZGVzcGFjZXMtYmxhbmslMkZsZWdhbC1zZW1hbnRpYy1zZWFyY2gmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzZCO0FBQzFHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVnYWwtc2VtYW50aWMtc2VhcmNoLXNhbXBsZS1hcHAvPzM4MDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL3dvcmtzcGFjZXMvY29kZXNwYWNlcy1ibGFuay9sZWdhbC1zZW1hbnRpYy1zZWFyY2gvYXBwL2FwaS9ib290c3RyYXAvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Jvb3RzdHJhcC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2Jvb3RzdHJhcFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYm9vdHN0cmFwL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL3dvcmtzcGFjZXMvY29kZXNwYWNlcy1ibGFuay9sZWdhbC1zZW1hbnRpYy1zZWFyY2gvYXBwL2FwaS9ib290c3RyYXAvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2Jvb3RzdHJhcC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbootstrap%2Froute&page=%2Fapi%2Fbootstrap%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbootstrap%2Froute.ts&appDir=%2Fworkspaces%2Fcodespaces-blank%2Flegal-semantic-search%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2Fcodespaces-blank%2Flegal-semantic-search&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/bootstrap/route.ts":
/*!************************************!*\
  !*** ./app/api/bootstrap/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   maxDuration: () => (/* binding */ maxDuration)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _services_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/bootstrap */ \"(rsc)/./app/services/bootstrap.ts\");\n\n\nconst maxDuration = 300;\n// This route uses a \"fire and forget\" pattern in order to: \n// 1. Return a response to the client quickly \n// 2. Allow a long-running background task to complete\nasync function POST() {\n    await (0,_services_bootstrap__WEBPACK_IMPORTED_MODULE_1__.initiateBootstrapping)(process.env.PINECONE_INDEX);\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: true\n    }, {\n        status: 200\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2Jvb3RzdHJhcC9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBQ3NCO0FBRTFELE1BQU1FLGNBQWMsSUFBSTtBQUUvQiw0REFBNEQ7QUFDNUQsOENBQThDO0FBQzlDLHNEQUFzRDtBQUMvQyxlQUFlQztJQUNwQixNQUFNRiwwRUFBcUJBLENBQUNHLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYztJQUV0RCxPQUFPTixxREFBWUEsQ0FBQ08sSUFBSSxDQUFDO1FBQUVDLFNBQVM7SUFBSyxHQUFHO1FBQUVDLFFBQVE7SUFBSTtBQUM1RCIsInNvdXJjZXMiOlsid2VicGFjazovL2xlZ2FsLXNlbWFudGljLXNlYXJjaC1zYW1wbGUtYXBwLy4vYXBwL2FwaS9ib290c3RyYXAvcm91dGUudHM/ZDFmYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBpbml0aWF0ZUJvb3RzdHJhcHBpbmcgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9ib290c3RyYXAnO1xuXG5leHBvcnQgY29uc3QgbWF4RHVyYXRpb24gPSAzMDA7XG5cbi8vIFRoaXMgcm91dGUgdXNlcyBhIFwiZmlyZSBhbmQgZm9yZ2V0XCIgcGF0dGVybiBpbiBvcmRlciB0bzogXG4vLyAxLiBSZXR1cm4gYSByZXNwb25zZSB0byB0aGUgY2xpZW50IHF1aWNrbHkgXG4vLyAyLiBBbGxvdyBhIGxvbmctcnVubmluZyBiYWNrZ3JvdW5kIHRhc2sgdG8gY29tcGxldGVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKCkge1xuICBhd2FpdCBpbml0aWF0ZUJvb3RzdHJhcHBpbmcocHJvY2Vzcy5lbnYuUElORUNPTkVfSU5ERVggYXMgc3RyaW5nKVxuXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSwgeyBzdGF0dXM6IDIwMCB9KVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImluaXRpYXRlQm9vdHN0cmFwcGluZyIsIm1heER1cmF0aW9uIiwiUE9TVCIsInByb2Nlc3MiLCJlbnYiLCJQSU5FQ09ORV9JTkRFWCIsImpzb24iLCJzdWNjZXNzIiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/bootstrap/route.ts\n");

/***/ }),

/***/ "(rsc)/./app/services/bootstrap.ts":
/*!***********************************!*\
  !*** ./app/services/bootstrap.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $$ACTION_0: () => (/* binding */ $$ACTION_0),\n/* harmony export */   $$ACTION_1: () => (/* binding */ $$ACTION_1),\n/* harmony export */   handleBootstrapping: () => (/* binding */ handleBootstrapping),\n/* harmony export */   initiateBootstrapping: () => (/* binding */ initiateBootstrapping)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-server-reference */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(rsc)/./node_modules/next/dist/server/app-render/encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @pinecone-database/pinecone */ \"(rsc)/./node_modules/@pinecone-database/pinecone/dist/index.js\");\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var langchain_document_loaders_fs_directory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! langchain/document_loaders/fs/directory */ \"(rsc)/./node_modules/langchain/document_loaders/fs/directory.js\");\n/* harmony import */ var _langchain_community_document_loaders_fs_pdf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @langchain/community/document_loaders/fs/pdf */ \"(rsc)/./node_modules/@langchain/community/document_loaders/fs/pdf.js\");\n/* harmony import */ var _langchain_textsplitters__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @langchain/textsplitters */ \"(rsc)/./node_modules/@langchain/textsplitters/index.js\");\n/* harmony import */ var _langchain_community_embeddings_voyage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @langchain/community/embeddings/voyage */ \"(rsc)/./node_modules/@langchain/community/embeddings/voyage.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _pinecone__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pinecone */ \"(rsc)/./app/services/pinecone.ts\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"4d4920a86dea7d47cd95ea09822de4b7621c1070\":\"$$ACTION_0\",\"949d925e091353bf2565cb31fd9d96208698126f\":\"initiateBootstrapping\",\"b43092d1b54548989d2bd9c43c1bf332823b0515\":\"$$ACTION_1\",\"d1ac678109ba88b5ba20cd587247fd7041739f46\":\"handleBootstrapping\"} */ \n\n\n\n\n\n\n\n\n\n\n\nconst readMetadata = async ()=>{\n    const data = await fs__WEBPACK_IMPORTED_MODULE_10__.promises.readFile(path__WEBPACK_IMPORTED_MODULE_8___default().resolve(process.cwd(), \"docs/db.json\"), \"utf8\");\n    return JSON.parse(data).documents;\n};\n// Prepare metadata for upsert to Pinecone - Langchain's PDF loader adds some \n// fields that we want to remove before upserting to Pinecone, because Pinecone\n// requires that metadata is a string, number or array (not an object)\nconst flattenMetadata = (metadata)=>{\n    const flatMetadata = {\n        ...metadata\n    };\n    if (flatMetadata.pdf) {\n        if (flatMetadata.pdf.pageCount) {\n            flatMetadata.totalPages = flatMetadata.pdf.pageCount;\n        }\n        delete flatMetadata.pdf;\n    }\n    if (flatMetadata.loc) {\n        delete flatMetadata.loc;\n    }\n    return flatMetadata;\n};\n// Function to batch upserts\nconst batchUpserts = async (index, vectors, batchSize = 50)=>{\n    for(let i = 0; i < vectors.length; i += batchSize){\n        const batch = vectors.slice(i, i + batchSize);\n        console.log(`Upserting batch ${i + 1} of ${batch.length} vectors...`);\n        await index.upsert(batch);\n    }\n};\nconst initiateBootstrapping = (0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"4d4920a86dea7d47cd95ea09822de4b7621c1070\", $$ACTION_0);\nasync function $$ACTION_0(targetIndex) {\n    const baseUrl = process.env.VERCEL_URL ? `https://${process.env.VERCEL_URL}` : `http://localhost:${process.env.PORT}`;\n    // Initiate a POST request with fetch to the /ingest endpoint, in order to begin \n    // chunking, embedding and upserting documents that will form the knowledge base\n    const response = await fetch(`${baseUrl}/api/ingest`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            targetIndex\n        })\n    });\n    if (!response.ok) {\n        throw new Error(`API request failed with status ${response.status}`);\n    }\n}\nconst handleBootstrapping = (0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"b43092d1b54548989d2bd9c43c1bf332823b0515\", $$ACTION_1);\nasync function $$ACTION_1(targetIndex) {\n    try {\n        console.log(`Running bootstrapping procedure against Pinecone index: ${targetIndex}`);\n        // If a Pinecone index with the target name doesn't exist, create it\n        // If it does exist, return while suppressing conflict errors\n        await (0,_pinecone__WEBPACK_IMPORTED_MODULE_9__.createIndexIfNecessary)(targetIndex);\n        // Short-circuit early if the index already exists and has vectors in it \n        const hasVectors = await (0,_pinecone__WEBPACK_IMPORTED_MODULE_9__.pineconeIndexHasVectors)(targetIndex);\n        if (hasVectors) {\n            console.log(\"Pinecone index already exists and has vectors in it - returning early without bootstrapping\");\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                sucess: true\n            }, {\n                status: 200\n            });\n        }\n        if (!hasVectors) {\n            console.log(\"Pinecone index does not exist or has no vectors in it - bootstrapping\");\n        }\n        // Load metadata from db.json\n        const metadata = await readMetadata();\n        const docsPath = path__WEBPACK_IMPORTED_MODULE_8___default().resolve(process.cwd(), \"docs/\");\n        // Load all PDFs within the specified directory\n        const loader = new langchain_document_loaders_fs_directory__WEBPACK_IMPORTED_MODULE_4__.DirectoryLoader(docsPath, {\n            \".pdf\": (filePath)=>new _langchain_community_document_loaders_fs_pdf__WEBPACK_IMPORTED_MODULE_5__.PDFLoader(filePath)\n        });\n        const documents = await loader.load();\n        // Merge extracted metadata with documents based on filename\n        documents.forEach((doc, index)=>{\n            const fileMetadata = metadata.find((meta)=>meta.filename === path__WEBPACK_IMPORTED_MODULE_8___default().basename(doc.metadata.source));\n            if (fileMetadata) {\n                doc.metadata = {\n                    ...doc.metadata,\n                    ...fileMetadata,\n                    pageContent: doc.pageContent\n                };\n            } else {\n                console.warn(`No metadata found for ${doc.metadata.source}`);\n            }\n        });\n        // Split text into chunks\n        const splitter = new _langchain_textsplitters__WEBPACK_IMPORTED_MODULE_6__.RecursiveCharacterTextSplitter({\n            chunkSize: 1000\n        });\n        const splits = await splitter.splitDocuments(documents);\n        // Assign unique IDs to each split and flatten metadata\n        const castedSplits = splits.map((split)=>({\n                pageContent: split.pageContent,\n                metadata: {\n                    ...flattenMetadata(split.metadata),\n                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(),\n                    pageContent: split.pageContent\n                }\n            }));\n        // Extract page contents\n        const pageContents = castedSplits.map((split)=>split.pageContent);\n        // Generate embeddings for each chunk\n        const voyageEmbeddings = new _langchain_community_embeddings_voyage__WEBPACK_IMPORTED_MODULE_7__.VoyageEmbeddings({\n            apiKey: process.env.VOYAGE_API_KEY,\n            inputType: \"document\",\n            modelName: \"voyage-law-2\"\n        });\n        const embeddings = await voyageEmbeddings.embedDocuments(pageContents);\n        // Combine embeddings with metadata and ensure IDs are defined\n        const vectors = castedSplits.map((split, index)=>{\n            if (!split.metadata.id) {\n                throw new Error(\"Document chunk is missing an ID\");\n            }\n            return {\n                id: split.metadata.id,\n                values: embeddings[index],\n                metadata: split.metadata\n            };\n        });\n        const pc = new _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_3__.Pinecone();\n        const index = pc.Index(process.env.PINECONE_INDEX);\n        // Batch upserts to stay within the 2MB request size limit\n        await batchUpserts(index, vectors);\n        console.log(\"Bootstrap procedure completed.\");\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            success: true\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error during bootstrap procedure:\", error);\n    }\n    return true;\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_12__.ensureServerEntryExports)([\n    initiateBootstrapping,\n    handleBootstrapping\n]);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"949d925e091353bf2565cb31fd9d96208698126f\", initiateBootstrapping);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"d1ac678109ba88b5ba20cd587247fd7041739f46\", handleBootstrapping);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBRyxDQUFDQyxDQUFBQSxRQUFTQSxNQUFNUixXQUFXO1FBRWhFLHFDQUFxQztRQUNyQyxNQUFNVyxtQkFBbUIsSUFBSTdFLG9GQUFnQkEsQ0FBQztZQUM1QzhFLFFBQVFsRSxRQUFRMEIsR0FBRyxDQUFDeUMsY0FBYztZQUNsQ0MsV0FBVztZQUNYQyxXQUFXO1FBQ2I7UUFFQSxNQUFNQyxhQUFhLE1BQU1MLGlCQUFpQk0sY0FBYyxDQUFDUDtRQUV6RCw4REFBOEQ7UUFDOUQsTUFBTWxELFVBQVU4QyxhQUFhQyxHQUFHLENBQUMsQ0FBQ0MsT0FBT2pEO1lBQ3ZDLElBQUksQ0FBQ2lELE1BQU14RCxRQUFRLENBQUN5RCxFQUFFLEVBQUU7Z0JBQ3RCLE1BQU0sSUFBSTNCLE1BQU07WUFDbEI7WUFDQSxPQUFPO2dCQUNMMkIsSUFBSUQsTUFBTXhELFFBQVEsQ0FBQ3lELEVBQUU7Z0JBQ3JCUyxRQUFRRixVQUFVLENBQUN6RCxNQUFNO2dCQUN6QlAsVUFBVXdELE1BQU14RCxRQUFRO1lBQzFCO1FBQ0Y7UUFFQSxNQUFNbUUsS0FBSyxJQUFJekYsaUVBQVFBO1FBQ3ZCLE1BQU02QixRQUFRNEQsR0FBR0MsS0FBSyxDQUFDMUUsUUFBUTBCLEdBQUcsQ0FBQ2lELGNBQWM7UUFFakQsMERBQTBEO1FBQzFELE1BQU0vRCxhQUFhQyxPQUFPQztRQUUxQk0sUUFBUUMsR0FBRyxDQUFDO1FBQ1osT0FBT3RDLHFEQUFZQSxDQUFDeUQsSUFBSSxDQUFDO1lBQUVvQyxTQUFTO1FBQUssR0FBRztZQUFFdkMsUUFBUTtRQUFJO0lBRTVELEVBQUUsT0FBT3dDLE9BQU87UUFDZHpELFFBQVF5RCxLQUFLLENBQUMscUNBQXFDQTtJQUNyRDtJQUVBLE9BQU87QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2xlZ2FsLXNlbWFudGljLXNlYXJjaC1zYW1wbGUtYXBwLy4vYXBwL3NlcnZpY2VzL2Jvb3RzdHJhcC50cz82NWVjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc2VydmVyJ1xuXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBQaW5lY29uZSB9IGZyb20gXCJAcGluZWNvbmUtZGF0YWJhc2UvcGluZWNvbmVcIjtcbmltcG9ydCB7IERpcmVjdG9yeUxvYWRlciB9IGZyb20gXCJsYW5nY2hhaW4vZG9jdW1lbnRfbG9hZGVycy9mcy9kaXJlY3RvcnlcIjtcbmltcG9ydCB7IFBERkxvYWRlciB9IGZyb20gXCJAbGFuZ2NoYWluL2NvbW11bml0eS9kb2N1bWVudF9sb2FkZXJzL2ZzL3BkZlwiO1xuaW1wb3J0IHsgUmVjdXJzaXZlQ2hhcmFjdGVyVGV4dFNwbGl0dGVyIH0gZnJvbSBcIkBsYW5nY2hhaW4vdGV4dHNwbGl0dGVyc1wiO1xuaW1wb3J0IHsgVm95YWdlRW1iZWRkaW5ncyB9IGZyb20gXCJAbGFuZ2NoYWluL2NvbW11bml0eS9lbWJlZGRpbmdzL3ZveWFnZVwiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuaW1wb3J0IHtcbiAgY3JlYXRlSW5kZXhJZk5lY2Vzc2FyeSxcbiAgcGluZWNvbmVJbmRleEhhc1ZlY3RvcnNcbn0gZnJvbSAnLi9waW5lY29uZSc7XG5cbmltcG9ydCB7IHR5cGUgRG9jdW1lbnQgfSBmcm9tICcuLi90eXBlcy9kb2N1bWVudCdcbmltcG9ydCB7IHByb21pc2VzIGFzIGZzIH0gZnJvbSAnZnMnO1xuXG5jb25zdCByZWFkTWV0YWRhdGEgPSBhc3luYyAoKTogUHJvbWlzZTxEb2N1bWVudFsnbWV0YWRhdGEnXVtdPiA9PiB7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBmcy5yZWFkRmlsZShwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgJ2RvY3MvZGIuanNvbicpLCAndXRmOCcpXG4gIHJldHVybiBKU09OLnBhcnNlKGRhdGEpLmRvY3VtZW50cztcbn07XG5cbi8vIFByZXBhcmUgbWV0YWRhdGEgZm9yIHVwc2VydCB0byBQaW5lY29uZSAtIExhbmdjaGFpbidzIFBERiBsb2FkZXIgYWRkcyBzb21lIFxuLy8gZmllbGRzIHRoYXQgd2Ugd2FudCB0byByZW1vdmUgYmVmb3JlIHVwc2VydGluZyB0byBQaW5lY29uZSwgYmVjYXVzZSBQaW5lY29uZVxuLy8gcmVxdWlyZXMgdGhhdCBtZXRhZGF0YSBpcyBhIHN0cmluZywgbnVtYmVyIG9yIGFycmF5IChub3QgYW4gb2JqZWN0KVxuY29uc3QgZmxhdHRlbk1ldGFkYXRhID0gKG1ldGFkYXRhOiBhbnkpOiBEb2N1bWVudFsnbWV0YWRhdGEnXSA9PiB7XG4gIGNvbnN0IGZsYXRNZXRhZGF0YSA9IHsgLi4ubWV0YWRhdGEgfTtcbiAgaWYgKGZsYXRNZXRhZGF0YS5wZGYpIHtcbiAgICBpZiAoZmxhdE1ldGFkYXRhLnBkZi5wYWdlQ291bnQpIHtcbiAgICAgIGZsYXRNZXRhZGF0YS50b3RhbFBhZ2VzID0gZmxhdE1ldGFkYXRhLnBkZi5wYWdlQ291bnQ7XG4gICAgfVxuICAgIGRlbGV0ZSBmbGF0TWV0YWRhdGEucGRmO1xuICB9XG4gIGlmIChmbGF0TWV0YWRhdGEubG9jKSB7XG4gICAgZGVsZXRlIGZsYXRNZXRhZGF0YS5sb2NcbiAgfVxuICByZXR1cm4gZmxhdE1ldGFkYXRhO1xufTtcblxuLy8gRnVuY3Rpb24gdG8gYmF0Y2ggdXBzZXJ0c1xuY29uc3QgYmF0Y2hVcHNlcnRzID0gYXN5bmMgKGluZGV4OiBhbnksIHZlY3RvcnM6IGFueVtdLCBiYXRjaFNpemU6IG51bWJlciA9IDUwKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmVjdG9ycy5sZW5ndGg7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgY29uc3QgYmF0Y2ggPSB2ZWN0b3JzLnNsaWNlKGksIGkgKyBiYXRjaFNpemUpO1xuICAgIGNvbnNvbGUubG9nKGBVcHNlcnRpbmcgYmF0Y2ggJHtpICsgMX0gb2YgJHtiYXRjaC5sZW5ndGh9IHZlY3RvcnMuLi5gKTtcbiAgICBhd2FpdCBpbmRleC51cHNlcnQoYmF0Y2gpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgaW5pdGlhdGVCb290c3RyYXBwaW5nID0gYXN5bmMgKHRhcmdldEluZGV4OiBzdHJpbmcpID0+IHtcblxuICBjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuVkVSQ0VMX1VSTCA/IGBodHRwczovLyR7cHJvY2Vzcy5lbnYuVkVSQ0VMX1VSTH1gIDogYGh0dHA6Ly9sb2NhbGhvc3Q6JHtwcm9jZXNzLmVudi5QT1JUfWA7XG5cbiAgLy8gSW5pdGlhdGUgYSBQT1NUIHJlcXVlc3Qgd2l0aCBmZXRjaCB0byB0aGUgL2luZ2VzdCBlbmRwb2ludCwgaW4gb3JkZXIgdG8gYmVnaW4gXG4gIC8vIGNodW5raW5nLCBlbWJlZGRpbmcgYW5kIHVwc2VydGluZyBkb2N1bWVudHMgdGhhdCB3aWxsIGZvcm0gdGhlIGtub3dsZWRnZSBiYXNlXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vYXBpL2luZ2VzdGAsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB0YXJnZXRJbmRleCB9KSxcbiAgfSk7XG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEFQSSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgaGFuZGxlQm9vdHN0cmFwcGluZyA9IGFzeW5jICh0YXJnZXRJbmRleDogc3RyaW5nKSA9PiB7XG5cbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhgUnVubmluZyBib290c3RyYXBwaW5nIHByb2NlZHVyZSBhZ2FpbnN0IFBpbmVjb25lIGluZGV4OiAke3RhcmdldEluZGV4fWApO1xuXG4gICAgLy8gSWYgYSBQaW5lY29uZSBpbmRleCB3aXRoIHRoZSB0YXJnZXQgbmFtZSBkb2Vzbid0IGV4aXN0LCBjcmVhdGUgaXRcbiAgICAvLyBJZiBpdCBkb2VzIGV4aXN0LCByZXR1cm4gd2hpbGUgc3VwcHJlc3NpbmcgY29uZmxpY3QgZXJyb3JzXG4gICAgYXdhaXQgY3JlYXRlSW5kZXhJZk5lY2Vzc2FyeSh0YXJnZXRJbmRleCk7XG5cbiAgICAvLyBTaG9ydC1jaXJjdWl0IGVhcmx5IGlmIHRoZSBpbmRleCBhbHJlYWR5IGV4aXN0cyBhbmQgaGFzIHZlY3RvcnMgaW4gaXQgXG4gICAgY29uc3QgaGFzVmVjdG9ycyA9IGF3YWl0IHBpbmVjb25lSW5kZXhIYXNWZWN0b3JzKHRhcmdldEluZGV4KTtcbiAgICBpZiAoaGFzVmVjdG9ycykge1xuICAgICAgY29uc29sZS5sb2coJ1BpbmVjb25lIGluZGV4IGFscmVhZHkgZXhpc3RzIGFuZCBoYXMgdmVjdG9ycyBpbiBpdCAtIHJldHVybmluZyBlYXJseSB3aXRob3V0IGJvb3RzdHJhcHBpbmcnKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2VzczogdHJ1ZSB9LCB7IHN0YXR1czogMjAwIH0pO1xuICAgIH1cblxuICAgIGlmICghaGFzVmVjdG9ycykge1xuICAgICAgY29uc29sZS5sb2coJ1BpbmVjb25lIGluZGV4IGRvZXMgbm90IGV4aXN0IG9yIGhhcyBubyB2ZWN0b3JzIGluIGl0IC0gYm9vdHN0cmFwcGluZycpO1xuICAgIH1cblxuICAgIC8vIExvYWQgbWV0YWRhdGEgZnJvbSBkYi5qc29uXG4gICAgY29uc3QgbWV0YWRhdGEgPSBhd2FpdCByZWFkTWV0YWRhdGEoKTtcblxuICAgIGNvbnN0IGRvY3NQYXRoID0gcGF0aC5yZXNvbHZlKHByb2Nlc3MuY3dkKCksICdkb2NzLycpXG5cbiAgICAvLyBMb2FkIGFsbCBQREZzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGRpcmVjdG9yeVxuICAgIGNvbnN0IGxvYWRlciA9IG5ldyBEaXJlY3RvcnlMb2FkZXIoZG9jc1BhdGgsIHtcbiAgICAgICcucGRmJzogKGZpbGVQYXRoOiBzdHJpbmcpID0+IG5ldyBQREZMb2FkZXIoZmlsZVBhdGgpLFxuICAgIH0pO1xuXG4gICAgY29uc3QgZG9jdW1lbnRzID0gYXdhaXQgbG9hZGVyLmxvYWQoKTtcblxuICAgIC8vIE1lcmdlIGV4dHJhY3RlZCBtZXRhZGF0YSB3aXRoIGRvY3VtZW50cyBiYXNlZCBvbiBmaWxlbmFtZVxuICAgIGRvY3VtZW50cy5mb3JFYWNoKChkb2MsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBmaWxlTWV0YWRhdGEgPSBtZXRhZGF0YS5maW5kKG1ldGEgPT4gbWV0YS5maWxlbmFtZSA9PT0gcGF0aC5iYXNlbmFtZShkb2MubWV0YWRhdGEuc291cmNlKSk7XG4gICAgICBpZiAoZmlsZU1ldGFkYXRhKSB7XG4gICAgICAgIGRvYy5tZXRhZGF0YSA9IHsgLi4uZG9jLm1ldGFkYXRhLCAuLi5maWxlTWV0YWRhdGEsIHBhZ2VDb250ZW50OiBkb2MucGFnZUNvbnRlbnQgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgTm8gbWV0YWRhdGEgZm91bmQgZm9yICR7ZG9jLm1ldGFkYXRhLnNvdXJjZX1gKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNwbGl0IHRleHQgaW50byBjaHVua3NcbiAgICBjb25zdCBzcGxpdHRlciA9IG5ldyBSZWN1cnNpdmVDaGFyYWN0ZXJUZXh0U3BsaXR0ZXIoeyBjaHVua1NpemU6IDEwMDAgfSk7XG4gICAgY29uc3Qgc3BsaXRzID0gYXdhaXQgc3BsaXR0ZXIuc3BsaXREb2N1bWVudHMoZG9jdW1lbnRzKTtcblxuICAgIC8vIEFzc2lnbiB1bmlxdWUgSURzIHRvIGVhY2ggc3BsaXQgYW5kIGZsYXR0ZW4gbWV0YWRhdGFcbiAgICBjb25zdCBjYXN0ZWRTcGxpdHM6IERvY3VtZW50W10gPSBzcGxpdHMubWFwKHNwbGl0ID0+ICh7XG4gICAgICBwYWdlQ29udGVudDogc3BsaXQucGFnZUNvbnRlbnQsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICAuLi5mbGF0dGVuTWV0YWRhdGEoc3BsaXQubWV0YWRhdGEgYXMgRG9jdW1lbnRbJ21ldGFkYXRhJ10pLFxuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIHBhZ2VDb250ZW50OiBzcGxpdC5wYWdlQ29udGVudCwgLy8gRW5zdXJlIHBhZ2VDb250ZW50IGlzIGluY2x1ZGVkIGluIG1ldGFkYXRhXG4gICAgICB9LFxuICAgIH0pKTtcblxuICAgIC8vIEV4dHJhY3QgcGFnZSBjb250ZW50c1xuICAgIGNvbnN0IHBhZ2VDb250ZW50cyA9IGNhc3RlZFNwbGl0cy5tYXAoc3BsaXQgPT4gc3BsaXQucGFnZUNvbnRlbnQpO1xuXG4gICAgLy8gR2VuZXJhdGUgZW1iZWRkaW5ncyBmb3IgZWFjaCBjaHVua1xuICAgIGNvbnN0IHZveWFnZUVtYmVkZGluZ3MgPSBuZXcgVm95YWdlRW1iZWRkaW5ncyh7XG4gICAgICBhcGlLZXk6IHByb2Nlc3MuZW52LlZPWUFHRV9BUElfS0VZLFxuICAgICAgaW5wdXRUeXBlOiBcImRvY3VtZW50XCIsXG4gICAgICBtb2RlbE5hbWU6IFwidm95YWdlLWxhdy0yXCIsXG4gICAgfSk7XG5cbiAgICBjb25zdCBlbWJlZGRpbmdzID0gYXdhaXQgdm95YWdlRW1iZWRkaW5ncy5lbWJlZERvY3VtZW50cyhwYWdlQ29udGVudHMpO1xuXG4gICAgLy8gQ29tYmluZSBlbWJlZGRpbmdzIHdpdGggbWV0YWRhdGEgYW5kIGVuc3VyZSBJRHMgYXJlIGRlZmluZWRcbiAgICBjb25zdCB2ZWN0b3JzID0gY2FzdGVkU3BsaXRzLm1hcCgoc3BsaXQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoIXNwbGl0Lm1ldGFkYXRhLmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRG9jdW1lbnQgY2h1bmsgaXMgbWlzc2luZyBhbiBJRCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHNwbGl0Lm1ldGFkYXRhLmlkISxcbiAgICAgICAgdmFsdWVzOiBlbWJlZGRpbmdzW2luZGV4XSxcbiAgICAgICAgbWV0YWRhdGE6IHNwbGl0Lm1ldGFkYXRhLFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHBjID0gbmV3IFBpbmVjb25lKCk7XG4gICAgY29uc3QgaW5kZXggPSBwYy5JbmRleChwcm9jZXNzLmVudi5QSU5FQ09ORV9JTkRFWCBhcyBzdHJpbmcpO1xuXG4gICAgLy8gQmF0Y2ggdXBzZXJ0cyB0byBzdGF5IHdpdGhpbiB0aGUgMk1CIHJlcXVlc3Qgc2l6ZSBsaW1pdFxuICAgIGF3YWl0IGJhdGNoVXBzZXJ0cyhpbmRleCwgdmVjdG9ycyk7XG5cbiAgICBjb25zb2xlLmxvZygnQm9vdHN0cmFwIHByb2NlZHVyZSBjb21wbGV0ZWQuJyk7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSB9LCB7IHN0YXR1czogMjAwIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIGJvb3RzdHJhcCBwcm9jZWR1cmU6JywgZXJyb3IpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiUGluZWNvbmUiLCJEaXJlY3RvcnlMb2FkZXIiLCJQREZMb2FkZXIiLCJSZWN1cnNpdmVDaGFyYWN0ZXJUZXh0U3BsaXR0ZXIiLCJWb3lhZ2VFbWJlZGRpbmdzIiwidjQiLCJ1dWlkdjQiLCJwYXRoIiwiY3JlYXRlSW5kZXhJZk5lY2Vzc2FyeSIsInBpbmVjb25lSW5kZXhIYXNWZWN0b3JzIiwicHJvbWlzZXMiLCJmcyIsInJlYWRNZXRhZGF0YSIsImRhdGEiLCJyZWFkRmlsZSIsInJlc29sdmUiLCJwcm9jZXNzIiwiY3dkIiwiSlNPTiIsInBhcnNlIiwiZG9jdW1lbnRzIiwiZmxhdHRlbk1ldGFkYXRhIiwibWV0YWRhdGEiLCJmbGF0TWV0YWRhdGEiLCJwZGYiLCJwYWdlQ291bnQiLCJ0b3RhbFBhZ2VzIiwibG9jIiwiYmF0Y2hVcHNlcnRzIiwiaW5kZXgiLCJ2ZWN0b3JzIiwiYmF0Y2hTaXplIiwiaSIsImxlbmd0aCIsImJhdGNoIiwic2xpY2UiLCJjb25zb2xlIiwibG9nIiwidXBzZXJ0IiwiaW5pdGlhdGVCb290c3RyYXBwaW5nIiwidGFyZ2V0SW5kZXgiLCJiYXNlVXJsIiwiZW52IiwiVkVSQ0VMX1VSTCIsIlBPUlQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJzdHJpbmdpZnkiLCJvayIsIkVycm9yIiwic3RhdHVzIiwiaGFuZGxlQm9vdHN0cmFwcGluZyIsImhhc1ZlY3RvcnMiLCJqc29uIiwic3VjZXNzIiwiZG9jc1BhdGgiLCJsb2FkZXIiLCJmaWxlUGF0aCIsImxvYWQiLCJmb3JFYWNoIiwiZG9jIiwiZmlsZU1ldGFkYXRhIiwiZmluZCIsIm1ldGEiLCJmaWxlbmFtZSIsImJhc2VuYW1lIiwic291cmNlIiwicGFnZUNvbnRlbnQiLCJ3YXJuIiwic3BsaXR0ZXIiLCJjaHVua1NpemUiLCJzcGxpdHMiLCJzcGxpdERvY3VtZW50cyIsImNhc3RlZFNwbGl0cyIsIm1hcCIsInNwbGl0IiwiaWQiLCJwYWdlQ29udGVudHMiLCJ2b3lhZ2VFbWJlZGRpbmdzIiwiYXBpS2V5IiwiVk9ZQUdFX0FQSV9LRVkiLCJpbnB1dFR5cGUiLCJtb2RlbE5hbWUiLCJlbWJlZGRpbmdzIiwiZW1iZWREb2N1bWVudHMiLCJ2YWx1ZXMiLCJwYyIsIkluZGV4IiwiUElORUNPTkVfSU5ERVgiLCJzdWNjZXNzIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/services/bootstrap.ts\n");

/***/ }),

/***/ "(rsc)/./app/services/pinecone.ts":
/*!**********************************!*\
  !*** ./app/services/pinecone.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createIndexIfNecessary: () => (/* binding */ createIndexIfNecessary),\n/* harmony export */   maxDuration: () => (/* binding */ maxDuration),\n/* harmony export */   pineconeIndexExists: () => (/* binding */ pineconeIndexExists),\n/* harmony export */   pineconeIndexHasVectors: () => (/* binding */ pineconeIndexHasVectors),\n/* harmony export */   resetIndex: () => (/* binding */ resetIndex),\n/* harmony export */   upsertEmbeddings: () => (/* binding */ upsertEmbeddings)\n/* harmony export */ });\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pinecone-database/pinecone */ \"(rsc)/./node_modules/@pinecone-database/pinecone/dist/index.js\");\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__);\nconst maxDuration = 300;\n\nconst pinecone = new _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__.Pinecone({\n    apiKey: process.env.PINECONE_API_KEY\n});\nasync function upsertEmbeddings(indexName, embeddings, metadata) {\n    const upserts = embeddings.map((embedding, index)=>({\n            id: `doc-${index}`,\n            values: embedding,\n            metadata: metadata[index]\n        }));\n    const index = pinecone.index(indexName);\n    await index.upsert(upserts);\n}\nasync function resetIndex(indexName) {\n    await deleteIndex(indexName);\n    await createIndexIfNecessary(indexName);\n}\nasync function deleteIndex(indexName) {\n    await pinecone.deleteIndex(indexName);\n}\nasync function createIndexIfNecessary(indexName) {\n    await pinecone.createIndex({\n        name: indexName,\n        // The voyage-law-2 model has a dimensionality of 1024\n        dimension: 1024,\n        spec: {\n            serverless: {\n                cloud: \"aws\",\n                region: \"us-east-1\"\n            }\n        },\n        waitUntilReady: true,\n        suppressConflicts: true\n    });\n}\nasync function pineconeIndexHasVectors(indexName) {\n    try {\n        const targetIndex = pinecone.index(indexName);\n        const stats = await targetIndex.describeIndexStats();\n        return stats.totalRecordCount && stats.totalRecordCount > 0 ? true : false;\n    } catch (error) {\n        console.error(\"Error checking Pinecone index:\", error);\n        return false;\n    }\n}\nasync function pineconeIndexExists(indexName) {\n    try {\n        const { indexes } = await pinecone.listIndexes();\n        // Check if index already exists\n        const indexNames = indexes && indexes.length ? indexes.map((index)=>index.name) : [];\n        if (!indexNames.includes(indexName)) {\n            return false;\n        }\n        return true;\n    } catch (error) {\n        console.error(\"Error checking Pinecone index:\", error);\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvc2VydmljZXMvcGluZWNvbmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBTyxNQUFNQSxjQUFjLElBQUk7QUFFd0I7QUFFdkQsTUFBTUUsV0FBVyxJQUFJRCxpRUFBUUEsQ0FBQztJQUFFRSxRQUFRQyxRQUFRQyxHQUFHLENBQUNDLGdCQUFnQjtBQUFXO0FBRXhFLGVBQWVDLGlCQUFpQkMsU0FBaUIsRUFBRUMsVUFBc0IsRUFBRUMsUUFBZTtJQUMvRixNQUFNQyxVQUFVRixXQUFXRyxHQUFHLENBQUMsQ0FBQ0MsV0FBV0MsUUFBVztZQUNwREMsSUFBSSxDQUFDLElBQUksRUFBRUQsTUFBTSxDQUFDO1lBQ2xCRSxRQUFRSDtZQUNSSCxVQUFVQSxRQUFRLENBQUNJLE1BQU07UUFDM0I7SUFFQSxNQUFNQSxRQUFRWixTQUFTWSxLQUFLLENBQUNOO0lBRTdCLE1BQU1NLE1BQU1HLE1BQU0sQ0FBQ047QUFDckI7QUFFTyxlQUFlTyxXQUFXVixTQUFpQjtJQUNoRCxNQUFNVyxZQUFZWDtJQUNsQixNQUFNWSx1QkFBdUJaO0FBQy9CO0FBRUEsZUFBZVcsWUFBWVgsU0FBaUI7SUFDMUMsTUFBTU4sU0FBU2lCLFdBQVcsQ0FBQ1g7QUFDN0I7QUFFTyxlQUFlWSx1QkFBdUJaLFNBQWlCO0lBQzVELE1BQU1OLFNBQVNtQixXQUFXLENBQUM7UUFDekJDLE1BQU1kO1FBQ04sc0RBQXNEO1FBQ3REZSxXQUFXO1FBQ1hDLE1BQU07WUFDSkMsWUFBWTtnQkFDVkMsT0FBTztnQkFDUEMsUUFBUTtZQUNWO1FBQ0Y7UUFDQUMsZ0JBQWdCO1FBQ2hCQyxtQkFBbUI7SUFDckI7QUFDRjtBQUVPLGVBQWVDLHdCQUF3QnRCLFNBQWlCO0lBQzdELElBQUk7UUFDRixNQUFNdUIsY0FBYzdCLFNBQVNZLEtBQUssQ0FBQ047UUFFbkMsTUFBTXdCLFFBQVEsTUFBTUQsWUFBWUUsa0JBQWtCO1FBRWxELE9BQU8sTUFBT0MsZ0JBQWdCLElBQUlGLE1BQU1FLGdCQUFnQixHQUFHLElBQUssT0FBTztJQUN6RSxFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGtDQUFrQ0E7UUFDaEQsT0FBTztJQUNUO0FBQ0Y7QUFFTyxlQUFlRSxvQkFBb0I3QixTQUFpQjtJQUN6RCxJQUFJO1FBQ0YsTUFBTSxFQUFFOEIsT0FBTyxFQUFFLEdBQUcsTUFBTXBDLFNBQVNxQyxXQUFXO1FBRTlDLGdDQUFnQztRQUNoQyxNQUFNQyxhQUFjRixXQUFXQSxRQUFRRyxNQUFNLEdBQUdILFFBQVExQixHQUFHLENBQUNFLENBQUFBLFFBQVNBLE1BQU1RLElBQUksSUFBSSxFQUFFO1FBRXJGLElBQUksQ0FBQ2tCLFdBQVdFLFFBQVEsQ0FBQ2xDLFlBQVk7WUFDbkMsT0FBTztRQUNUO1FBRUEsT0FBTztJQUVULEVBQUUsT0FBTzJCLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGtDQUFrQ0E7UUFDaEQsT0FBTztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWdhbC1zZW1hbnRpYy1zZWFyY2gtc2FtcGxlLWFwcC8uL2FwcC9zZXJ2aWNlcy9waW5lY29uZS50cz83ZGQ1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBtYXhEdXJhdGlvbiA9IDMwMDtcblxuaW1wb3J0IHsgUGluZWNvbmUgfSBmcm9tICdAcGluZWNvbmUtZGF0YWJhc2UvcGluZWNvbmUnO1xuXG5jb25zdCBwaW5lY29uZSA9IG5ldyBQaW5lY29uZSh7IGFwaUtleTogcHJvY2Vzcy5lbnYuUElORUNPTkVfQVBJX0tFWSBhcyBzdHJpbmcgfSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cHNlcnRFbWJlZGRpbmdzKGluZGV4TmFtZTogc3RyaW5nLCBlbWJlZGRpbmdzOiBudW1iZXJbXVtdLCBtZXRhZGF0YTogYW55W10pIHtcbiAgY29uc3QgdXBzZXJ0cyA9IGVtYmVkZGluZ3MubWFwKChlbWJlZGRpbmcsIGluZGV4KSA9PiAoe1xuICAgIGlkOiBgZG9jLSR7aW5kZXh9YCxcbiAgICB2YWx1ZXM6IGVtYmVkZGluZyxcbiAgICBtZXRhZGF0YTogbWV0YWRhdGFbaW5kZXhdLFxuICB9KSk7XG5cbiAgY29uc3QgaW5kZXggPSBwaW5lY29uZS5pbmRleChpbmRleE5hbWUpO1xuXG4gIGF3YWl0IGluZGV4LnVwc2VydCh1cHNlcnRzKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc2V0SW5kZXgoaW5kZXhOYW1lOiBzdHJpbmcpIHtcbiAgYXdhaXQgZGVsZXRlSW5kZXgoaW5kZXhOYW1lKTtcbiAgYXdhaXQgY3JlYXRlSW5kZXhJZk5lY2Vzc2FyeShpbmRleE5hbWUpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBkZWxldGVJbmRleChpbmRleE5hbWU6IHN0cmluZykge1xuICBhd2FpdCBwaW5lY29uZS5kZWxldGVJbmRleChpbmRleE5hbWUpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlSW5kZXhJZk5lY2Vzc2FyeShpbmRleE5hbWU6IHN0cmluZykge1xuICBhd2FpdCBwaW5lY29uZS5jcmVhdGVJbmRleCh7XG4gICAgbmFtZTogaW5kZXhOYW1lLFxuICAgIC8vIFRoZSB2b3lhZ2UtbGF3LTIgbW9kZWwgaGFzIGEgZGltZW5zaW9uYWxpdHkgb2YgMTAyNFxuICAgIGRpbWVuc2lvbjogMTAyNCxcbiAgICBzcGVjOiB7XG4gICAgICBzZXJ2ZXJsZXNzOiB7XG4gICAgICAgIGNsb3VkOiAnYXdzJyxcbiAgICAgICAgcmVnaW9uOiAndXMtZWFzdC0xJyxcbiAgICAgIH1cbiAgICB9LFxuICAgIHdhaXRVbnRpbFJlYWR5OiB0cnVlLFxuICAgIHN1cHByZXNzQ29uZmxpY3RzOiB0cnVlXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGluZWNvbmVJbmRleEhhc1ZlY3RvcnMoaW5kZXhOYW1lOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0YXJnZXRJbmRleCA9IHBpbmVjb25lLmluZGV4KGluZGV4TmFtZSlcblxuICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgdGFyZ2V0SW5kZXguZGVzY3JpYmVJbmRleFN0YXRzKCk7XG5cbiAgICByZXR1cm4gKHN0YXRzLnRvdGFsUmVjb3JkQ291bnQgJiYgc3RhdHMudG90YWxSZWNvcmRDb3VudCA+IDApID8gdHJ1ZSA6IGZhbHNlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIFBpbmVjb25lIGluZGV4OicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBpbmVjb25lSW5kZXhFeGlzdHMoaW5kZXhOYW1lOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluZGV4ZXMgfSA9IGF3YWl0IHBpbmVjb25lLmxpc3RJbmRleGVzKCk7XG5cbiAgICAvLyBDaGVjayBpZiBpbmRleCBhbHJlYWR5IGV4aXN0c1xuICAgIGNvbnN0IGluZGV4TmFtZXMgPSAoaW5kZXhlcyAmJiBpbmRleGVzLmxlbmd0aCA/IGluZGV4ZXMubWFwKGluZGV4ID0+IGluZGV4Lm5hbWUpIDogW10pO1xuXG4gICAgaWYgKCFpbmRleE5hbWVzLmluY2x1ZGVzKGluZGV4TmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgUGluZWNvbmUgaW5kZXg6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIm1heER1cmF0aW9uIiwiUGluZWNvbmUiLCJwaW5lY29uZSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJQSU5FQ09ORV9BUElfS0VZIiwidXBzZXJ0RW1iZWRkaW5ncyIsImluZGV4TmFtZSIsImVtYmVkZGluZ3MiLCJtZXRhZGF0YSIsInVwc2VydHMiLCJtYXAiLCJlbWJlZGRpbmciLCJpbmRleCIsImlkIiwidmFsdWVzIiwidXBzZXJ0IiwicmVzZXRJbmRleCIsImRlbGV0ZUluZGV4IiwiY3JlYXRlSW5kZXhJZk5lY2Vzc2FyeSIsImNyZWF0ZUluZGV4IiwibmFtZSIsImRpbWVuc2lvbiIsInNwZWMiLCJzZXJ2ZXJsZXNzIiwiY2xvdWQiLCJyZWdpb24iLCJ3YWl0VW50aWxSZWFkeSIsInN1cHByZXNzQ29uZmxpY3RzIiwicGluZWNvbmVJbmRleEhhc1ZlY3RvcnMiLCJ0YXJnZXRJbmRleCIsInN0YXRzIiwiZGVzY3JpYmVJbmRleFN0YXRzIiwidG90YWxSZWNvcmRDb3VudCIsImVycm9yIiwiY29uc29sZSIsInBpbmVjb25lSW5kZXhFeGlzdHMiLCJpbmRleGVzIiwibGlzdEluZGV4ZXMiLCJpbmRleE5hbWVzIiwibGVuZ3RoIiwiaW5jbHVkZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/services/pinecone.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@pinecone-database","vendor-chunks/@langchain","vendor-chunks/tr46","vendor-chunks/zod","vendor-chunks/langsmith","vendor-chunks/@sinclair","vendor-chunks/semver","vendor-chunks/zod-to-json-schema","vendor-chunks/node-fetch","vendor-chunks/whatwg-url","vendor-chunks/fast-uri","vendor-chunks/p-queue","vendor-chunks/eventemitter3","vendor-chunks/retry","vendor-chunks/webidl-conversions","vendor-chunks/camelcase","vendor-chunks/uuid","vendor-chunks/p-retry","vendor-chunks/p-timeout","vendor-chunks/fast-deep-equal","vendor-chunks/cross-fetch","vendor-chunks/decamelize","vendor-chunks/p-finally","vendor-chunks/langchain","vendor-chunks/js-tiktoken","vendor-chunks/base64-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbootstrap%2Froute&page=%2Fapi%2Fbootstrap%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbootstrap%2Froute.ts&appDir=%2Fworkspaces%2Fcodespaces-blank%2Flegal-semantic-search%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2Fcodespaces-blank%2Flegal-semantic-search&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();